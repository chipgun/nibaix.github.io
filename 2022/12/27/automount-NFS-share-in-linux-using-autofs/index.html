<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="/img/favicon.png">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css">


  
<link rel="stylesheet" href="/css/style.css">


  
  <title>Automount NFS Share in Linux Using Autofs - 芝士盒</title>
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  <header>
    <nav id="navbar" class="navbar fixed-nav scrolling-navbar">
  <div class="container">
    <div class="mark-wrapper">
      
        <img class="logo" src="/source "/>
       
      <div class="title-mark">芝士盒</div>
    </div>
  
    <button id="menu-btn" class="btn menu-btn" type="button" data-bs-toggle="collapse" data-bs-target="#nav-menu">
      <div class="menu-icon"><span></span><span></span><span></span></div>
    </button>
  
    <div id="nav-menu" class="collapse menu-wrapper">
      <ul>
        
          <li>
            <a href="/">Home </a>
          </li>
        
          <li>
            <a href="/archives">Archives </a>
          </li>
        
          <li>
            <a href="/categories">Category </a>
          </li>
        
          <li>
            <a href="/tags">Tag </a>
          </li>
        
          <li>
            <a href="/about">About </a>
          </li>
        
        <li class="search-icon">
          <button class="btn" data-bs-toggle="modal" data-bs-target="#searchModal" aria-label="Search">
            <i class="fas fa-search"></i>
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>

  <main>
    <div class="container">
      <div id="main">
        <div class="row py-5">
          <div class="col">
            <div class="row">
  <div class="left-content">
    <article class="post-wrapper markdown-body">
  <h2 class="post-title">
    Automount NFS Share in Linux Using Autofs
  </h2>
  <div class="post-meta">
    <time datetime="Invalid date Invalid date ">2022-12-27</time>
    
    
      
        <a class="tag" href="/categories/Linux/">Linux</a> 
       
    
    
      
        <a class="tag" href="/tags/linux/">linux</a> 
       
    
    
  </div>
  
  <div id="content">
    <p>Autofs is a service in Linux like operating system which automatically mounts the file system and remote shares when it is accessed. Main advantage of autofs is that you don’t need to mount file system at all time, file system is only mounted when it is in demand.</p>
<p>Autofs service reads two files Master map file ( &#x2F;etc&#x2F;auto.master ) and a map file like &#x2F;etc&#x2F;auto.misc or &#x2F;etc&#x2F;auto.xxxx.</p>
<span id="more"></span>

<p>In ‘&#x2F;etc&#x2F;auto.master’ file we have three different fields :</p>
<p><code>/&lt;Mount-Point&gt;     &lt;Map-file&gt;     &lt;Timeout-Value&gt;</code></p>
<p>In map file (&#x2F;etc&#x2F;auto.misc or &#x2F;etc&#x2F;auto.xxxx) also we have three different fields:</p>
<p><code>&lt;Mount-Point&gt;    &lt;Mount-Options&gt;        &lt;Location_of_File System&gt;</code></p>
<p>In this article we will mount the NFS share using autofs. NFS share ‘&#x2F;db_backup‘ is exported from Fedora NFS Server (192.168.1.21). We are going to mount this nfs share on CentOS 7 Linux using autofs.</p>
<h2 id="Step-1-Install-autofs-package"><a href="#Step-1-Install-autofs-package" class="headerlink" title="Step:1 Install autofs package"></a>Step:1 Install autofs package</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% sudo yum install autofs</span><br></pre></td></tr></table></figure>

<h2 id="Step-2-Edit-the-Master-map-file-etc-auto-master"><a href="#Step-2-Edit-the-Master-map-file-etc-auto-master" class="headerlink" title="Step:2 Edit the Master map file &#x2F;etc&#x2F;auto.master"></a>Step:2 Edit the Master map file &#x2F;etc&#x2F;auto.master</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">% cat /etc/auto.master</span><br><span class="line">/-   /etc/auto.nfs</span><br></pre></td></tr></table></figure>

<h2 id="Step-3-Create-a-map-file-etc-auto-nfs"><a href="#Step-3-Create-a-map-file-etc-auto-nfs" class="headerlink" title="Step:3 Create a map file &#x2F;etc&#x2F;auto.nfs"></a>Step:3 Create a map file &#x2F;etc&#x2F;auto.nfs</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">% cat /etc/auto.nfs</span><br><span class="line">/mnt/a        -rw,bg,soft,rsize=32768,wsize=32768              server:/data/a</span><br><span class="line">/mnt/b        -rw,bg,soft,rsize=32768,wsize=32768              server:/data/b</span><br><span class="line">/mnt/c        -rw,bg,soft,rsize=32768,wsize=32768              server:/data/c</span><br></pre></td></tr></table></figure>

<p>Use command <code>showmount -e server</code> to show the NFS exported from <strong>server</strong>.</p>
<h2 id="Step-4-Start-autofs-service"><a href="#Step-4-Start-autofs-service" class="headerlink" title="Step:4 Start autofs service"></a>Step:4 Start autofs service</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">% sudo systemctl start autofs.serivce</span><br><span class="line">% sudo systemctl enable autofs.serivce</span><br></pre></td></tr></table></figure>
  </div>

</article>
  </div>
  <div class="right-content">
    <div id="toc" class="toc-wrapper"></div>
  <div>
</div>


          </div>
        </div>
      </div>
    </div>

     
  <button id="scroll-to-top" class="btn btn-top" aria-label="Scroll To Top">
    <i class="fas fa-arrow-up"></i>
  </button>
 

  </main>

  <div class="footer-wrapper">
  <div class="left-content"></div>
  <div class="right-content">
    <div>Copyright &copy;2025</div>
    <div>Powered By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> - Theme <a target="_blank" rel="noopener" href="https://github.com/thomasyu929/hexo-theme-peomas">Peomas</a></div>
  </div>
</div>

  <div id="searchModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Search</h5>
        <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="input-wrapper">
          <i class="fas fa-search"></i>
          <input id="search" class="search-input" type="text" placeholder="Input content to search..." />
        </div>
        <ul id="result" class="list-group result-wrapper">
        </ul>
      </div>
    </div>
  </div>
</div>

  
<script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/js/bootstrap.min.js"></script>


<script src="/js/prism.js"></script>



  
<script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css">

  
<script src="/js/nprogress.js"></script>



 
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css">

 


<script src="/js/event.js"></script>


<script src="/js/search.js"></script>


<script src="/js/plugin.js"></script>



</body>

</html>